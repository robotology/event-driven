<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>event-driven: Connect to a ZCB or z-turn</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">event-driven
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Connect to a ZCB or z-turn </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>You have a ZCB that is powered on and sitting in front of you and you want to read events from the camera/skin/cochlea that is attached to it. We want to make an <code>ssh</code> connection to it, connect to the <code>yarpserver</code>, and run <code>zynqGrabber</code>. Here are the steps:</p>
<p>First you are going to make a serial connection so you can configure the network connection. You need the network for <code>YARP</code> to function.</p>
<h2>Serial connection over (ubuntu instructions)</h2>
<ul>
<li>Plug in a micro-usb cable from your laptop to the ZCB. Wait! There are two usb ports on the ZCB. Use the one that says uart next to it - it should be on the opposite side to the sd-card port. <div class="fragment"><div class="line">sudo apt install screen</div><div class="line">sudo screen /dev/ttyUSB0 115200</div></div><!-- fragment --> The login and password should be given to you by EDPR-IIT.</li>
</ul>
<p>Okay now you have a terminal <em>inside the ZCB!</em> You need to decide how you are going to connect the ZCB to the network:</p>
<p>To exit <code>screen</code> do <code>ctrl+a</code> to open the list of commands,, then press <code>k</code>, then <code>y</code> to close the session.</p>
<h3>Option 1: External network</h3>
<p>Connect both your own laptop and the ZCB to the same local network using an ethernet cable. The router should allocate the IP addresses and, if the network has internet connection, the ZCB should have connection too.</p>
<p>:warning: The IP address might change from time-to-time.</p>
<p>Set-up the ZCB with a DHCP connection.</p>
<h3>Option 2: External network with Static IP</h3>
<p>Connect both your own laptop and the ZCB to the same local network using an ethernet cable. Ask your network administrator for an available address to assign to the ZCB. It will have internet connectivety and the IP won't change.</p>
<p>Set-up the ZCB with a static ip.</p>
<h3>Option 3: Ad-hoc with Static IP</h3>
<p>Connect your laptop ethernet directly to the ZCB ethernet port. The ZCB won't have internet connection, so if you need to configure the install/update the software, this option isn't valid - but it could be the easiest for a demo once you know the ZCB is already working.</p>
<p>You'll need to set your own laptop as well as the ZCB to have a static IP.</p>
<h3>Option 4: Ad-hoc with Internet Connection Sharing</h3>
<p>Connect your laptop ethernet directly to the ZCB ethernet port. With Internet connection sharing you should be able to share your laptops wifi connection to the ZCB over the ethernet. Your laptop assigns the IP so it can change every time you connect. To do so use run <code>nm-connection-editor</code> from terminal, press the <code>+</code> button to add a new connection, configure it to be ethernet and under <code>IPv4 Settings</code> use the "Shared to other computers" method. Name your connection something informative e.g. "ZCB connection".</p>
<p>Set the ZCB to a dynamic IP address</p>
<h2>Setting the IP address of the ZCB</h2>
<p>On the <code>screen</code> connection to the ZCB do the following: </p><div class="fragment"><div class="line">nano /etc/network/interfaces</div></div><!-- fragment --><p> Add the following lines depending on the IP type:</p><ul>
<li><b>Dynamic IP</b> <div class="fragment"><div class="line">auto eth0</div><div class="line">iface eth0 inet dhcp</div><div class="line">hwaddress ether 00:0a:35:00:01:X</div></div><!-- fragment --></li>
<li><b>Static IP</b> <div class="fragment"><div class="line">auto eth0</div><div class="line">iface eth0 inet static</div><div class="line">hwaddress ether 00:0a:35:00:01:X</div><div class="line">address &lt;ip address&gt;</div><div class="line">netmask 255.255.255.0</div></div><!-- fragment --></li>
</ul>
<p>Note: X here needs to be set such that each ZCB/z-turn you have on the same network has a different hardware address. It should be 2 letters in hex (i.e. 00 to FF)</p>
<p>Save and exit <code>nano</code>.</p>
<div class="fragment"><div class="line">sudo ifdown eth0</div><div class="line">sudo ifup eth0</div><div class="line">ifconfig</div></div><!-- fragment --><p>The <code>&lt;ip address&gt;</code> of the board should be reported. Take note so you can connect to the board over SSH.</p>
<h2>SSH connection</h2>
<p>On your laptop </p><div class="fragment"><div class="line">ping &lt;ip address&gt;</div></div><!-- fragment --><p> if a connection is found </p><div class="fragment"><div class="line">ssh icub@&lt;ip address&gt;</div></div><!-- fragment --><p> The password should be given to you by EDPR-IIT. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 27 2020 13:17:35 for event-driven by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
